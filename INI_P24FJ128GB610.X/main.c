/*
 * File:   main.c
 * Author: adrengineer
 *
 * Created on 23 May 2022, 19:26
 * Modified to use internal oscillator. Now this is easier to use
 * and ensure that the initial communication with MCU is correct.
 */

/*----------------------------------------------------------------------------*/
/* Files to Include                                                           */
/*----------------------------------------------------------------------------*/
#include "system.h"
#include "config_bits.h"
#include <libpic30.h>

/*----------------------------------------------------------------------------*/
/* Defines                                                                    */
/*----------------------------------------------------------------------------*/
#define ACK_RUN_TRIS    TRISBbits.TRISB15
#define ACK_RUN_LAT     LATBbits.LATB15
#define ACK_RUN_PORT    PORTBbits.RB15



int main(void) {
    
/******************************************************************************/   
/*****************************  PORT CONFIGURATION  ***************************/                             
/******************************************************************************/ 
    ANSB = 0;
    TRISBbits.TRISB15 = 0;
    TRISEbits.TRISE4 = 0;
    
/******************************************************************************/   
/********************************  INITIALISING  ******************************/
/******************************************************************************/ 
    LATBbits.LATB15=1;
    LATEbits.LATE4 = 1;
    
/******************************************************************************/   
/*********************************  MAIN LOOP  ********************************/     
/******************************************************************************/  
        while(1)
        {
            LATEbits.LATE4 ^= 1;
            LATBbits.LATB15=1;
            __delay_ms(300);
            LATBbits.LATB15=0;
            __delay_ms(300);
        }
    return (0);
}
